CREATE TABLE VENDORS (
VEND_ID		INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
VEND_NAME	VARCHAR(30) NOT NULL,
VEND_PHONE	VARCHAR(30) NOT NULL,
VEND_EMAIL	VARCHAR(30) NOT NULL
);

CREATE TABLE ITEM_CATEGORIES (
CAT_ID		INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
CAT_NAME	VARCHAR(30) NOT NULL
);

CREATE TABLE INVENTORY_ITEMS (
INV_ID			INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
CAT_ID			INT	REFERENCES ITEM_CATEGORIES,
INV_NAME		VARCHAR(50) NOT NULL,
INV_QUANTITY	INT NOT NULL DEFAULT(0)
);

CREATE TABLE VENDOR_ITEMS (
INV_ID				INT REFERENCES INVENTORY_ITEMS,
VEND_ID				INT REFERENCES VENDORS,
ITEM_DELIVERY_DATE	DATE DEFAULT GETDATE(),
ITEM_PRICE			NUMERIC(8,2) NOT NULL,
CONSTRAINT ITEMS_INV_VEND_PK PRIMARY KEY (INV_ID, VEND_ID)
);

CREATE TABLE MENU_OPTIONS (
MENU_ID		INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
MENU_NAME	VARCHAR(50) NOT NULL,
MENU_PRICE	NUMERIC(8,2) NOT NULL,
MENU_COST	NUMERIC(8,2) NOT NULL
);

CREATE TABLE MENU_INGREDIENTS (
MENU_ID		INT REFERENCES MENU_OPTIONS,
INV_ID		INT REFERENCES INVENTORY_ITEMS,
CONSTRAINT INGREDIENTS_MENU_INV_PK PRIMARY KEY (MENU_ID, INV_ID)
);

CREATE TABLE SANDWICHES (
SAND_ID				INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
MENU_ID				INT REFERENCES MENU_OPTIONS,
SAND_NAME			VARCHAR(50) NOT NULL,
SAND_MEAT_TYPE		VARCHAR(30) NOT NULL,
SAND_MEAT_QUANTITY	INT NOT NULL DEFAULT(1),
SAND_CHEESE_TYPE	VARCHAR(30) NOT NULL,
SAND_BREAD_TYPE		VARCHAR(30) NOT NULL,		
);

CREATE TABLE ACCOUNTS (
ACC_ID		INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
SAND_ID		INT REFERENCES SANDWICHES,
ACC_REVENUE	NUMERIC(8,2) NOT NULL,
ACC_COST	NUMERIC(8,2) NOT NULL,
ACC_PROFIT	NUMERIC(8,2) NOT NULL,
ACC_DATE	DATE DEFAULT GETDATE()
);

CREATE TABLE CUSTOMERS (
CUS_ID		INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
CUS_FNAME	VARCHAR(50) NOT NULL,
CUS_LNAME	VARCHAR(50) NOT NULL
);

CREATE TABLE LOYAL_CUSTOMERS (
CUS_ID			INT REFERENCES CUSTOMERS,
LCUS_PHONE		VARCHAR(10) NOT NULL,
LCUS_EMAIL		VARCHAR(320) NOT NULL,
LCUS_ADDRESS	VARCHAR(120) NOT NULL,
LCUS_ZIPCODE	VARCHAR(5) NOT NULL,
LCUS_POINTS		INT NOT NULL DEFAULT(0),
CONSTRAINT LOYAL_CUSID_PK PRIMARY KEY (CUS_ID)
);

CREATE TABLE ORDERS (
ORDER_ID	INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
CUS_ID		INT REFERENCES CUSTOMERS,
ORDER_DATE	DATE DEFAULT GETDATE()
);

CREATE TABLE ORDER_LINES (
LINE_NUM		INT NOT NULL DEFAULT(1),
ORDER_ID		INT REFERENCES ORDERS,
MENU_ID			INT REFERENCES MENU_OPTIONS,
LINE_QUANTITY	INT NOT NULL DEFAULT(1),
CONSTRAINT LINE_NUM_ORDERID_PK PRIMARY KEY (LINE_NUM, ORDER_ID)
);